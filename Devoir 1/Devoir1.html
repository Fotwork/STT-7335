<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>STT-7335 Hiver 2023 - Devoir 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="Devoir1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Devoir1_files/libs/quarto-html/quarto.js"></script>
<script src="Devoir1_files/libs/quarto-html/popper.min.js"></script>
<script src="Devoir1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Devoir1_files/libs/quarto-html/anchor.min.js"></script>
<link href="Devoir1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Devoir1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Devoir1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Devoir1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Devoir1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">STT-7335 Hiver 2023 - Devoir 1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="instructions" class="level2">
<h2 class="anchored" data-anchor-id="instructions">Instructions</h2>
<ul>
<li><p>Déposer ce fichier modifié avec vos réponses dans la boîte de dépôt appropriée.</p></li>
<li><p>Inclure également le fichier généré par ce fichier de codes, <strong>au format pdf</strong>. Pour ce faire, vous pouvez simplement générer un fichier html puis l’imprimer au format pdf.</p></li>
<li><p>Ne pas indiquer le nom des membres de l’équipe dans le fichier.</p></li>
</ul>
</section>
<section id="question-1-30-pts" class="level2">
<h2 class="anchored" data-anchor-id="question-1-30-pts">Question 1 (30 pts)</h2>
<p>On a parlé en classe de l’équation de Xiao-Li Meng pour décrire les trois sources d’erreur d’une estimation dans une population finie. On veut s’assurer que vous avez bien compris celle-ci.</p>
<p>Il existe une librairie R associée à ce travail, la librarie <code>ddi</code>. Elle ne contient qu’une seule fonction, la fonction <code>ddc</code> qui calcule la <em>data defect correlation.</em> Installez cette librairie et regarder l’aide de la fonction <code>ddc</code> (voir codes ci-dessous, que j’ai commenté pour le moment). Notez que vous pouvez afficher le code complet de la fonction.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ddi")</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#library("ddi")</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#help(ddc)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#ddc #pour voir le code de la fonction</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dans le bas de l’aide, on donne des codes pour calculer la <em>data defect correlation</em> pour chacun des états pour l’élection américaine de 2016. Répondez aux questions suivantes, en utilisant l’information fournie avec la librarie.</p>
<section id="a-que-représente-la-data-defect-correlation-dans-léquation-présentée-en-classe-5-pts" class="level5">
<h5 class="anchored" data-anchor-id="a-que-représente-la-data-defect-correlation-dans-léquation-présentée-en-classe-5-pts">a) Que représente la <em>data defect correlation</em> dans l’équation présentée en classe? (5 pts)</h5>
</section>
<section id="b-considérez-le-premier-état-du-jeu-de-données-soit-lalabama.-en-vous-basant-sur-lexemple-fourni-donnez-la-valeur-numérique-de-tous-les-termes-dans-léquation-de-meng-pour-cet-état-et-expliquez-comment-chacun-a-été-calculé.-20-pts" class="level5">
<h5 class="anchored" data-anchor-id="b-considérez-le-premier-état-du-jeu-de-données-soit-lalabama.-en-vous-basant-sur-lexemple-fourni-donnez-la-valeur-numérique-de-tous-les-termes-dans-léquation-de-meng-pour-cet-état-et-expliquez-comment-chacun-a-été-calculé.-20-pts">b) Considérez le premier état du jeu de données, soit l’Alabama. En vous basant sur l’exemple fourni, donnez la valeur numérique de tous les termes dans l’équation de Meng pour cet état et expliquez comment chacun a été calculé. (20 pts)</h5>
</section>
<section id="c-toujours-pour-lalabama-est-ce-quon-conclut-que-les-partisans-de-trump-étaient-plus-ou-moins-enclins-à-répondre-au-sondage-que-les-autres-partisans-5-pts" class="level5">
<h5 class="anchored" data-anchor-id="c-toujours-pour-lalabama-est-ce-quon-conclut-que-les-partisans-de-trump-étaient-plus-ou-moins-enclins-à-répondre-au-sondage-que-les-autres-partisans-5-pts">c) Toujours pour l’Alabama, est-ce qu’on conclut que les partisans de Trump étaient plus ou moins enclins à répondre au sondage que les autres partisans? (5 pts)</h5>
</section>
</section>
<section id="question-2-70-pts" class="level2">
<h2 class="anchored" data-anchor-id="question-2-70-pts">Question 2 (70 pts)</h2>
<p>Il est maintenant question d’imputation simple pour traiter la non-réponse. On fera quelques simulations pour illustrer certains résultats donnés en classe.</p>
<p>On considère le jeu de données de 250 observations avec deux variables <span class="math inline">\(Y_1\)</span> et <span class="math inline">\(Y_2\)</span> suivant une loi normale bivariée. La variable <span class="math inline">\(Y_1\)</span> a une moyenne de <span class="math inline">\(100\)</span> et une variance de $169$. La variable <span class="math inline">\(Y_2\)</span> a une moyenne de <span class="math inline">\(12\)</span> et une variance de $9$. La covariance entre les deux variables est $19,5$, leur corrélation est donc de <span class="math inline">\(0,5\)</span>. Vous pouvez utiliser la fonction <code>mvnorm</code> de la librairé <code>MASS</code> pour générer facilement des données de cette distribution.</p>
<p>On supposera que <span class="math inline">\(Y_1\)</span> est observée pour toutes les observations, mais que <span class="math inline">\(Y_2\)</span> est manquante pour la moitié des observations.</p>
<section id="a-montrez-à-laide-dune-simulation-que-même-dans-le-cas-mcar-limputation-par-la-moyenne-permet-destimer-sans-biais-la-moyenne-de-y_2-mais-pas-sa-variance-si-la-corrélation-entre-les-deux-variables.-20-pts" class="level5">
<h5 class="anchored" data-anchor-id="a-montrez-à-laide-dune-simulation-que-même-dans-le-cas-mcar-limputation-par-la-moyenne-permet-destimer-sans-biais-la-moyenne-de-y_2-mais-pas-sa-variance-si-la-corrélation-entre-les-deux-variables.-20-pts">a) Montrez à l’aide d’une simulation que même dans le cas MCAR l’imputation par la moyenne permet d’estimer sans biais la moyenne de <span class="math inline">\(Y_2\)</span> mais pas sa variance si la corrélation entre les deux variables. (20 pts)</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Votre code ici</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="b-supposons-maintenant-le-mécanisme-mar-suivant-les-valeur-de-y_2-sont-manquantes-pour-les-125-observations-avec-les-plus-petites-valeurs-de-y_1.-est-ce-que-limputation-par-la-moyenne-va-sous-estimer-ou-sur-estimer-les-trois-paramètres-suivants-la-moyenne-de-y_2-la-variance-de-y_2-la-corrélation-entre-y_1-et-y_2-vous-devriez-pouvoir-répondre-sans-faire-de-simulation-mais-vous-pouvez-valider-votre-raisonnement-empiriquement-si-vous-le-désirez.-10-pts" class="level5">
<h5 class="anchored" data-anchor-id="b-supposons-maintenant-le-mécanisme-mar-suivant-les-valeur-de-y_2-sont-manquantes-pour-les-125-observations-avec-les-plus-petites-valeurs-de-y_1.-est-ce-que-limputation-par-la-moyenne-va-sous-estimer-ou-sur-estimer-les-trois-paramètres-suivants-la-moyenne-de-y_2-la-variance-de-y_2-la-corrélation-entre-y_1-et-y_2-vous-devriez-pouvoir-répondre-sans-faire-de-simulation-mais-vous-pouvez-valider-votre-raisonnement-empiriquement-si-vous-le-désirez.-10-pts">b) Supposons maintenant le mécanisme MAR suivant : les valeur de <span class="math inline">\(Y_2\)</span> sont manquantes pour les 125 observations avec les plus petites valeurs de $Y_1$. Est-ce que l’imputation par la moyenne va sous-estimer ou sur-estimer les trois paramètres suivants : la moyenne de $Y_2$, la variance de $Y_2$, la corrélation entre <span class="math inline">\(Y_1\)</span> et <span class="math inline">\(Y_2\)</span>? Vous devriez pouvoir répondre sans faire de simulation, mais vous pouvez valider votre raisonnement empiriquement si vous le désirez. (10 pts)</h5>
</section>
<section id="c-considérez-le-même-mécanisme-de-non-réponse-quen-b.-montrez-que-limputation-par-régression-linéaire-permet-destimer-correctement-la-moyenne-de-y_2-mais-que-seule-limputation-stochastique-à-laide-de-la-régression-linéaire-permet-destimer-sans-biais-la-variance-de-y_2-et-la-corrélation-entre-y_1-et-y_2.-20-pts" class="level5">
<h5 class="anchored" data-anchor-id="c-considérez-le-même-mécanisme-de-non-réponse-quen-b.-montrez-que-limputation-par-régression-linéaire-permet-destimer-correctement-la-moyenne-de-y_2-mais-que-seule-limputation-stochastique-à-laide-de-la-régression-linéaire-permet-destimer-sans-biais-la-variance-de-y_2-et-la-corrélation-entre-y_1-et-y_2.-20-pts">c) Considérez le même mécanisme de non-réponse qu’en b. Montrez que l’imputation par régression linéaire permet d’estimer correctement la moyenne de $Y_2$, mais que seule l’imputation stochastique à l’aide de la régression linéaire permet d’estimer sans biais la variance de <span class="math inline">\(Y_2\)</span> et la corrélation entre <span class="math inline">\(Y_1\)</span> et <span class="math inline">\(Y_2\)</span>. (20 pts)</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Votre code ici.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="d-on-a-dit-en-classe-que-bien-que-limputation-stochastique-à-laide-de-la-régression-donne-un-estimateur-non-biaisé-si-les-données-manquantes-sont-mar-on-sous-estimera-la-variance-de-cet-estimateur-si-on-ne-tient-pas-compte-de-limputation-dans-les-calculs.-illustrez-ceci-pour-lestimation-de-la-moyenne-de-y_2-en-utilisant-toujours-le-même-mécanisme-de-non-réponse.-20-pts" class="level5">
<h5 class="anchored" data-anchor-id="d-on-a-dit-en-classe-que-bien-que-limputation-stochastique-à-laide-de-la-régression-donne-un-estimateur-non-biaisé-si-les-données-manquantes-sont-mar-on-sous-estimera-la-variance-de-cet-estimateur-si-on-ne-tient-pas-compte-de-limputation-dans-les-calculs.-illustrez-ceci-pour-lestimation-de-la-moyenne-de-y_2-en-utilisant-toujours-le-même-mécanisme-de-non-réponse.-20-pts">d) On a dit en classe que bien que l’imputation stochastique à l’aide de la régression donne un estimateur non biaisé si les données manquantes sont MAR on sous-estimera la variance de cet estimateur si on ne tient pas compte de l’imputation dans les calculs. Illustrez ceci pour l’estimation de la moyenne de <span class="math inline">\(Y_2\)</span> en utilisant toujours le même mécanisme de non-réponse. (20 pts)</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Votre code ici.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>